# 需求规格说明书

## 一、问答子系统

### 1.范围

 文档具体包括“问答子系统”的产品描述、功能介绍、约束条件、假设和依赖以及一些待确定问题。

### 2.总体概述

#### 2.1.产品描述

 问答子系统是海外藏中国文物知识管理与服务平台的一个子系统，开发目的是为了为海外藏中国文物知识管理与服务平台提供一个可供用户访问、使用的海外藏中国文物知识问答平台，以增强平台的趣味性、交互性。

#### 2.2.软件功能

- 计时计分文物相关的问答游戏的功能
- 回答用户文物相关的问题的功能

#### 2.3.一般约束

 硬件的限制：服务器

 与其他应用间的接口：与后台管理系统的接口，与知识图谱系统的接口

 并行操作：无并行操作

 所需的高级语言：python

#### 2.4.假设和依赖

 使用python第三方库flask

### 3.具体需求

#### 3.1.功能需求

##### 3.1.1.对用户进行随机提问的功能

###### a.引言

 能够对用户随机发送一条题库中的问题，在用户回答问题后，重复此操作

###### b.输入

 用户点击开始按钮

###### c.处理

 从题库中抽取问题并在页面呈现

###### d.输出

 提取的问题

##### 3.1.2.计时、计分功能

###### a.引言

在用户开始答题后开始计时，在满足终止条件或用户主动退出时停止计时；判断用户的回答是否正确，并记录得分

###### b.输入

 用户点击开始按钮

###### c.处理

 计时器开始运行

在用户选择答案后对答案与题库中的结果进行判定

###### d.输出

 逐步增长的时间

对钩或红叉

##### 3.1.3.分析用户键入的问题语句的功能

###### a.引言

 分析用户所提出的问题

###### b.输入

 问题语句

###### c.处理

对语句进行分析、划分；将划分单元与预先设计的关键词进行匹配，以实现问题的拆分和解析

###### d.输出

 返回一个由关键词替代原问题的结果语句

##### 3.1.4.根据关键词进行回答的功能

###### a.引言

 对于处理后的用户提问在数据库中寻找答案并返回给用户

###### b.输入

 处理后的用户问题

###### c.处理

 根据关键词寻找可能的答案组合

###### d.输出

 将答案组合返回给用户

#### 3.2.外部接口需求

##### 3.2.1.用户接口

 用户具有使用权限。

##### 3.2.2.硬件接口

待定

##### 3.2.3.软件接口

 待定

##### 3.2.4.通讯接口

待定

#### 3.3.性能需求

待定

### 4.设计约束

#### 4.1.标准的约束

 python3.8语法

#### 4.2.硬件的限制

待定

#### 4.3.技术的限制

待定

### 5.软件质量属性

#### 5.1.安全性

 用户仅有使用权，较为安全

#### 5.2.可维护性

 可维护性强

#### 5.3.可移植性

 可移植性较强，可以根据数据差异适配不同系统

### 6.其他需求

#### 6.1.数据库

 待定

#### 6.2.服务器

待定

### 7.待确定问题

| 需求ID | 问题描述 | 影响 | 风险 | 责任人 | 解决日期 | 状态(Open/close) |
| ------ | -------- | ---- | ---- | ------ | -------- | ---------------- |
|        |          |      |      |        |          |                  |
|        |          |      |      |        |          |                  |
|        |          |      |      |        |          |                  |
|        |          |      |      |        |          |                  |
|        |          |      |      |        |          |                  |

### 文件修改记录：

| 修改日期  | 版本 | 修改页码、章节、条款 | 修改描述     | 作者   |
| --------- | ---- | -------------------- | ------------ | ------ |
| 2023-4-12 | 0.1  | --                   | 创建所有条款 | 韩林沅 |
|           |      |                      |              |        |
|           |      |                      |              |        |
|           |      |                      |              |        |
|           |      |                      |              |        |
|           |      |                      |              |        |
|           |      |                      |              |        |
|           |      |                      |              |        |
|           |      |                      |              |        |

## 二、知识图谱构建子系统

## 1.引言

### 1.1背景

​	随着信息技术的高速发展，许多国内外的博物馆都有了自己的网站，博物馆实现从线下实体展览到数字化、信息化的转变。这些网站上有着很多展览、展品方面的信息，让游客能通过网络走进这些博物馆，同时提高了文物资源的展示和利用水平。本项目是知识图谱构建系统，本产品致力于智能高效的搜集海外博物馆上中国文物的信息，删除不必要的信息，保留关键信息，实现便捷、高效的查找和阅读。

### 1.2目的

​	本系统用于从海外博物馆网站爬取中国文物信息，进行加工处理，筛选出有用的信息，如文物的收藏地、时代、材质、类型、介绍、书画作者等信息，利用这些信息，构建海外文物知识图谱。为海外文物知识服务子系统、知识问答子系统以及掌上博物馆提供数据信息。还可以实现信息的持续更新，使用户能简单方便的查询信息。

## 2.总体概述

### 2.1产品描述

​	知识图谱构建系统是海外藏中国文物知识管理与服务平台的一个子系统，开发目的是为平台的其他子系统提供充足且可以利用的数据信息，并且提供可视化的知识图谱，让用户能有更好的使用体验。	本系统将会提供原始数据以及加工数据，并将数据上传到数据库当中，以供后台管理子系统进行数据的管理与存储。本系统开可以对数据进行数据可视化处理，将可视化处理的图表上传到前端，让前端有更好的展示效果。

### 2.2产品功能

​	爬取5个博物馆上的中国文物信息，将其以规范的格式存储，补充不完整的信息。将每个文物的相关数据处理成实体，对结构化的数据处理成实体，抽取关系，构建成三元组，利用三元组生成知识图谱，并将上述信息存入。

### 2.3一般约束

系统的实现约束：

操作系统：Windows10

采用语言：python、java、Mysql

数据库：Mysql、Sql server

与其他应用间的接口：与后台管理子系统接口

### 2.4假设和依赖

使用python第三方库request、pandas、lxml、pymysql、openpyxl

## 3.具体需求规定

#### 3.1数据需求

| 字段中文 | 字段英文       | 字符类型 | 主键 | 是否允许空 |
| -------- | -------------- | -------- | ---- | ---------- |
| 文物编号 | ID             | int      | 是   | 否         |
| 文物标题 | Title          | varchar  | 否   | 是         |
| 文物作者 | Artist         | varchar  | 否   | 是         |
| 文物类别 | Classification | varchar  | 否   | 是         |
| 创作日期 | Creation Date  | varchar  | 否   | 是         |

### 3.2功能需求

#### 3.2.1数据爬取

通过爬虫，将海外博物馆中国文物的文物编号、文物标题、文物作者、文物类别、创作日期等信息爬取下来作为原始数据，存入数据库中.

#### 3.2.2数据加工

对爬取的所有文物信息进行异常值、不合法数值的删除，去除重复的无用信息，筛选出有价值的字段进行保存。

#### 3.2.3主体提取

根据TF-IDF算法对文物信息进行关键词提取，建立三元组。

#### 3.2.4数据导入

将所有爬取到的信息按照数据库规格说明要求上传到数据库当中。

#### 3.2.5数据更新

支持数据的更新，每周爬取一次新的数据，更新原有的数据。

### 3.3性能需求

能快速高效的爬取网站上的信息。

## 4.设计约束

### 4.1标准的约束

| 使用的语言 | 使用的库 |
| ---------- | -------- |
| python     | request  |
| python     | xlrd     |
| python     | selenium |
| python     | pandas   |

## 5.软件质量属性

### 5.1安全性

系统不会影响计算机中其他软件的使用。用户在查看数据时，不能直接访问和修改数据，只能在前端页面查看，不能直接操作数据库及原始数据，数据不会被恶意篡改，因此本系统具有很高的安全性。

### 5.2可维护性

在系统运行的过程中，能方便、快速的查找和修复错误。支持数据的定期更新和维护

### 5.3可移植性

本系统的信息可移植性较好，只要有配置好的环境就可以进行移植，并可以立即在本地保存结果。

### 5.4可靠性

数据均来源于正规网站，系统在运行的过程中，不会发生内存泄露或进程死锁。

## 三、后台子系统

### 一般约束

后台管理子系统使用django作为服务器框架，连接各个项目的服务器

开发环境选择pycharm

### 用户表定义

#### 知识服务子系统用户表：

Comment表示是否能够进行评论，1为可以，0为不行，主键为ID，UserName(用户名)不能重复，性别1表示男，2表示女

#### 掌上博物馆用户表：

Comment表示是否能够进行评论，1为可以，0为不行，主键为ID，UserName(用户名)不能重复，性别1表示男，2表示女

## 功能

#### 注册功能：

后端所需的参数

![image-20230416181850024](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20230416181850024.png)

表单格式

![img](file:///C:/Users/1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png)

![img](file:///C:/Users/1/AppData/Local/Temp/msohtmlclip1/01/clip_image004.png)

Keyword的值，掌上博物馆用户填LibraryUser,知识服务子系统用户填KnowledgeUser

若注册时用户名已存在会重新返回注册页面，并给出提示

![image-20230416181930550](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20230416181930550.png)

两次输入的密码不一致同理

![image-20230416181935818](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20230416181935818.png) 

注册成功会跳转到登录页面

#### 登录功能：

需要前端的参数：

![image-20230416182032125](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20230416182032125.png)

表单格式：

![img](file:///C:/Users/1/AppData/Local/Temp/msohtmlclip1/01/clip_image002.png)

![img](file:///C:/Users/1/AppData/Local/Temp/msohtmlclip1/01/clip_image004.png)

Keyword的值，掌上博物馆用户填LibraryUser,知识服务子系统用户填KnowledgeUser

若密码错误返回登录页面，并给出提示

![image-20230416182014986](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20230416182014986.png)

用户名不存在同理

![image-20230416182004009](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20230416182004009.png)

登录成功后会跳转到主页面，并且后端传给前端的数据（登录的用户信息），使用http session变量存储，前端可能需要用javascript将其取出

![image-20230416181957130](C:\Users\1\AppData\Roaming\Typora\typora-user-images\image-20230416181957130.png)

## 四、海外文物知识服务子系统

### 1.总体概述

#### 1.1.产品描述

海外文物知识服务子系统作为Web端程序，使用知识图谱构架子系统获取的数据，实现数据浏览、查询、可视化等服务。

#### 1.2.软件功能

- 数据浏览：支持多种形式展示的功能
- 数据查询：支持文物的简单查询和高级查询的功能
- 数据可视化：将构建的文物知识图谱可视化，以从不同的角度等可视化效果，展示文物知识
- 用户个人信息管理：实现注册登录

#### 1.3.一般约束

操作系统：Windows10

采用框架：SpringBoot、Vue

数据库：Mysql

与其他应用间的接口：与后台管理子系统接口、与知识图谱构建子系统

## 2.具体需求规定

#### 2.1数据需求

#### 2.1.1用户数据

| 字段中文 | 字段英文 | 字符类型 | 主键 | 是否允许为空 |
| -------- | -------- | -------- | ---- | ------------ |
| 账号     | ID       | int      | 是   | 否           |
| 密码     | password | varchar  | 否   | 否           |
| 姓名     | name     | varchar  | 否   | 是           |
| 年龄     | age      | int      | 否   | 是           |

#### 2.2.2文物数据

| 字段中文 | 字段英文       | 字符类型 | 主键 | 是否允许空 |
| -------- | -------------- | -------- | ---- | ---------- |
| 文物编号 | ID             | int      | 是   | 否         |
| 文物标题 | Title          | varchar  | 否   | 是         |
| 文物作者 | Artist         | varchar  | 否   | 是         |
| 文物类别 | Classification | varchar  | 否   | 是         |
| 创作日期 | Creation Date  | varchar  | 否   | 是         |

### 3.2功能需求

#### 3.2.1数据浏览：

支持多种形式展示的浏览功能。①提供基本的筛选、排序功能，可按照文物类型、文物年代、博物馆等多种基础信息进行索引、筛选、排序方式浏览文物信息以方便用户的使用。②提供查看文物详情功能，显示文物的详细数据，如文本、图像等信息，点击文物图片，可以进行放大缩小。③相关文物推荐功能，在该文物页面显示相关文物，相关规则自定，如相似主题、同一作者、图像内容相似等。

#### 3.2.2数据查询：

支持文物的简单查询功能和高级查询功能。简单查询根据输入的关键字，如文物名称、博物馆名称、文物年代等进行查询。高级查询可以对文物的多个字段进行限定查询。

#### 3.2.3数据可视化显示：

将构建的文物知识图谱可视化，以从不同角度等可视化效果，展示文物知识。可参考的可视化方案如下：①包含结点、边的力导向图知识图谱展示。②文物时间轴：按照时间轴的方式、展示各个时段的文物信息、时间等信息。

#### 3.2.4用户个人信息管理：

用户可以注册登录该系统，设置用户名密码等个人信息。

### 3.3性能需求

能够支持多人同时在线访问

### 4.设计约束

#### 4.1.标准的约束

Java标准语法

#### 4.2.硬件的限制

待定

#### 4.3.技术的限制

待定

## 5.软件质量属性

### 5.1安全性

系统不会影响计算机中其他软件的使用。

用户在查看数据时，只能查看不能直接访问和修改数据，不能直接操作数据库及原始数据。

### 5.2可维护性

在系统运行的过程中，能方便、快速的查找和修复错误。支持数据的定期更新和维护

### 5.3可移植性

本系统的信息可移植性较好，只要有配置好的环境就可以进行移植，并可以立即在本地保存结果。

### 5.4可靠性

数据均来源于正规网站，系统在运行的过程中，不会发生内存泄露或进程死锁。

## 五、掌上博物馆

### 目的及参考资料

展示知识图谱构建子系统获取中的单类文物。

### 使用环境和语言

掌上博物馆子系统使用java语言，
开发环境选择Android studio。

### 功能

该子系统主要负责提供用户浏览、搜索、收藏、评论等功能

### 用户表定义：

#### 掌上博物馆用户表：

Comment表示是否能够进行评论，1为可以，0为不行，主键为ID，UserName(用户名)不能重复，性别1表示男，2表示女

#### 文物表定义：

主键为id，文物名为relicname，type为文物类型。picture为图片。